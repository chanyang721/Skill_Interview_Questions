## 21.11.01
* 컴퓨터 세팅
* 서버 인수인계s
* AWS ssh 연결
* TypeORM 사용
* 파일 구조 이해하기

* 웹에 데이터 뿌려주기
* API 유지 보수
### 느낀점
* 출근 당일 아침에 어떤일을 해야하는지 들었다. API 유지보수, 서버 인수인계,
그리고 웹에 데이터베이스에 저장된 데이터를 뿌려주는 일을 하게 될것이라고 한다.
* Express와 TypeORM, MySQL을 사용하여 서버를 구축하였고 간단한 CRUD를 수행한다. 
* CI/CD로 파이프라인 구현하는 것
* Jest를 사용하여 테이팅하는 방법
* git flow를 적용하지 않는다. 

* 공부할 시간이 필요하다. 
* 6시 이후로 시간을 내지 못하면, 발전할 수 없다.

### 21.11.03
* 서버 구조를 다시 만들어보면서, typeorm을 공부하는 중이다. 
* 오늘 한 것은 orm의 entity를 정의하고 데이터 베이스에 마이그레이션을 했으며, 관계 정의하는 부분을 익혔다. 
* 아직 jest나, docker, AWS의 S3로 이미지 업로드하는 부분을 하지 못했다.
* 서버의 구조를 변경하지 못하지만 좋은 서버구조로 리팩토링 하고 있다.

#### 해야할 것
* 라우팅 부분이 app.ts에 널부려져 있다. 각 도메인 별로 구분되어 있긴 하지만 이게 좋은 구조라고 보기 어렵다. router로 구분지어 연결되도록 하는 것이 추후에 확장하는데 필요한 작업이라고 생각된다. 
* 그리고 router부분과 controller부분의 로직이 같이 있따. 
* 리프레시 토큰을 적용하지 않고 엑세스 토큰의 기간을 90d로 잡아서 리프레시 토큰을 확인하지 않았다. 

#### 21.11.09
#### 
* ### Server

- JWT
    - 토큰 암호화를 위한 pem키를 따로 생성한 뒤 node의 내장 모듈인 util.promify를 사용하여 암호화를 시킨다
### TypeORM

- Between
- Select에서 Not연산자가 있는지 확인했지만 찾지 못했다. 쿼리 시 PK 값을 제외한 모든 Column을 가져와야해서 찾게 되었다.
    - { select: false }로 하면 key값이 필요한 경우에 찾는것이 불가능해진다.
    - Not option을 사용해봤지만 where절에만 사용하는 것 같다.
    - 구글 검색에서 직접 만든 함수를 발견했지만, 함수 내부에 고차함수가 섞여있어서 사용하지 않았다.
    - 결국 key를 가져오고 map 을 사용했고, delete로 하나씩 지워야했다
- Entity 정의할때 Column값에 option을 줘서 데이텁베이스 상에서의 값을 지정한다.
- NestJS를 같이 사용하면 더 간편하게 서버 설정이 가능하다.

### Database

- MySQL Workbacnch

---

## ✱ 내일 할 것

- TypeORM에서 Seeders 파일 생성하는 방법 확인
- Jest 테스트 케이스 API 별로 생성